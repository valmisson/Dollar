var e=Object.defineProperty,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,l=(a,r,t)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,s=(e,s)=>{for(var n in s||(s={}))r.call(s,n)&&l(e,n,s[n]);if(a)for(var n of a(s))t.call(s,n)&&l(e,n,s[n]);return e},n=(e,a,r)=>(l(e,"symbol"!=typeof a?a+"":a,r),r);import{d as o,r as c,a as d,w as i,o as u,t as p,p as y,b as m,c as v,e as g,v as f,f as h,g as _,n as D,h as T,i as b,j as w,k as I,l as C,m as S}from"./vendor.6b8f250e.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?a.credentials="include":"anonymous"===e.crossorigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();var U=o({name:"InputDolar",setup(e,{emit:a}){const r=c("1,00"),t=d({updateDollar(){const e=this.toDecimal(r.value);this.sendDollarTyped(e),r.value=e},selectValue(e){e.target.select()},toDecimal(e){let a=e;return 0===a.length&&(a="1,00"),a.split(",",1)[0]||(a="1,00"),a.includes(",")||(a+=",00"),a.split(",",2)[1]||(a+="00"),a},sanitize(){let e=r.value;e.match(/^[0-9,.]+$/)||(e=e.slice(0,-1)),e.includes(".")&&(e=e.replace(/\./g,",")),e.replace(/[^,]/g,"").length>1&&(e=e.slice(0,-1)),r.value=e},sendDollarTyped(e){a("dollarTyped",e)}});return i(r,(()=>t.sanitize())),u((()=>{t.sendDollarTyped("1,00")})),s({dollar:r},p(t))}});y("data-v-9d1d8856");const j={class:"input__dolar"},O=h("span",{class:"input--code"},"US$",-1),$=["size"];m(),U.render=function(e,a,r,t,l,s){return _(),v("div",j,[O,g(h("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=a=>e.dollar=a),onBlur:a[1]||(a[1]=(...a)=>e.updateDollar&&e.updateDollar(...a)),onFocus:a[2]||(a[2]=(...a)=>e.selectValue&&e.selectValue(...a)),size:e.dollar.length||4,class:"input--field"},null,40,$),[[f,e.dollar]])])},U.__scopeId="data-v-9d1d8856";var F=o({name:"Currency",props:{content:{type:Object,required:!0},code:{type:String,required:!0},dollarTyped:{type:String,default:"1,00",required:!0}},setup(e){const a=d({name:"",cash:0,pctChange:0,dollar:0,result:"0,00",state:"low",stateImg:t("low")}),r={USD:"Dólar Comercial",USDT:"Dólar Turismo"};function t(e){return new URL({"../assets/high.svg":"/dollar/assets/high.8fa52a4c.svg","../assets/low.svg":"/dollar/assets/low.4019d317.svg"}[`../assets/${e}.svg`],window.location).href}return i(e,(()=>{const{high:l,pctChange:s}=e.content[e.code];a.name=r[e.code],a.cash=parseFloat(l),a.pctChange=parseFloat(s),a.dollar=parseFloat(e.dollarTyped.replace(/,/,".")),a.result=(a.dollar*a.cash).toFixed(2).replace(/\./,","),a.state=a.pctChange>0?"high":"low",a.stateImg=t(a.state)})),s({},p(a))}});y("data-v-05a9774a");const L={class:"currency"},q={class:"currency__content"},z={class:"currency__value"},P=h("b",{class:"currency__code"},"R$",-1),V={class:"currency__var"},k=["src"],x={class:"currency__type"};m(),F.render=function(e,a,r,t,l,s){return _(),v("div",L,[h("div",q,[h("div",z,[P,h("h2",{class:D(`currency__real is--${e.state}`)},T(e.result),3)]),h("div",V,[h("span",{class:D(`currency__pct is--${e.state}`)},T(e.pctChange)+"%",3),g(h("span",{class:"currency__dollar"},T(e.cash.toFixed(2)),513),[[b,1!==e.dollar]])]),h("img",{src:e.stateImg,class:"currency__state",alt:"currency state"},null,8,k)]),h("p",x,T(e.name),1)])},F.__scopeId="data-v-05a9774a";class N{static async load(){const{data:e}=await this.api.get(`/all/${this.codes.join()}`);return e}}n(N,"codes",["USD","USDT"]),n(N,"api",w.create({baseURL:"https://economia.awesomeapi.com.br/json"}));var R=o({name:"App",components:{InputDolar:U,Currency:F},setup(){const e=c(),a=c({}),r=c(),t=d({listenDollarTyped(a){e.value=a},async loadCurrency(){const e=await N.load();a.value=e},restartInterval(){clearInterval(r.value),r.value=setInterval((()=>{this.loadCurrency()}),6e4)}});return u((()=>{t.loadCurrency(),t.restartInterval()})),s({dollarTyped:e,currency:a,interval:r},p(t))}});const A={class:"container"},E={class:"currencies"};R.render=function(e,a,r,t,l,s){const n=I("input-dolar"),o=I("currency");return _(),v("main",A,[C(n,{onDollarTyped:e.listenDollarTyped},null,8,["onDollarTyped"]),h("section",E,[C(o,{content:e.currency,code:"USD",dollarTyped:e.dollarTyped},null,8,["content","dollarTyped"]),C(o,{content:e.currency,code:"USDT",dollarTyped:e.dollarTyped},null,8,["content","dollarTyped"])])])},S(R).mount("#app");
